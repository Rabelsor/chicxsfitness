<!--
  Generated template for the ComentariosPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="primary">
    <ion-title>{{tittle}}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>


  <ion-card *ngIf="post.tipo=='ejercicio'" style="background-color: #FFA3A3">

    <ion-item style="background-color: #FFA3A3">
      <ion-avatar item-start>
        <img src={{post.foto}}>
      </ion-avatar>
      <ion-textarea maxLength="500" value="{{post.titulo}}" autosize readonly></ion-textarea>
    </ion-item>

    <img padding imageViewer #myImage (click)="presentImage(myImage)" src="{{post.fotoPubli}}" />
    <ion-card-content>
      <p>{{post.descripcion}}</p>
    </ion-card-content>

    <ion-row>
      <ion-col col-2 (click)="meGusta(post.key,post.keyUser,post.likes)">
        <button ion-button icon-left clear small>
          <ion-icon name="thumbs-up"></ion-icon>
          <div>{{post.likes}}</div>
        </button>
      </ion-col>


      <ion-col col-6>
        <!-- Empieza la valorazion-->

        <p class="clasificacion">


          <label for="radio5" *ngIf="post.valoracion>=5">
            <ion-icon name="star" (click)="votar(5,post.key,post.keyUser)">
              <ion-input id="radio5" type="radio" name="estrellas" value="5"></ion-input>
            </ion-icon>
          </label>
          <label for="radio5" *ngIf="post.valoracion<5">
            <ion-icon name="star-outline" (click)="votar(5,post.key,post.keyUser)">
              <ion-input id="radio5" type="radio" name="estrellas" value="5"></ion-input>
            </ion-icon>
          </label>


          <label for="radio4" *ngIf="post.valoracion>=4">
            <ion-icon name="star" (click)="votar(4,post.key,post.keyUser)">
              <ion-input id="radio4" type="radio" name="estrellas" value="4"></ion-input>
            </ion-icon>
          </label>
          <label for="radio4" *ngIf="post.valoracion<4">
            <ion-icon name="star-outline" (click)="votar(4,post.key,post.keyUser)">
              <ion-input id="radio4" type="radio" name="estrellas" value="4"></ion-input>
            </ion-icon>
          </label>


          <label for="radio3" *ngIf="post.valoracion>=3">
            <ion-icon name="star" (click)="votar(3,post.key,post.keyUser)">
              <ion-input id="radio3" type="radio" name="estrellas" value="3"></ion-input>
            </ion-icon>
          </label>
          <label for="radio3" *ngIf="post.valoracion<3">
            <ion-icon name="star-outline" (click)="votar(3,post.key,post.keyUser)">
              <ion-input id="radio3" type="radio" name="estrellas" value="3"></ion-input>
            </ion-icon>
          </label>


          <label for="radio2" *ngIf="post.valoracion>=2">
            <ion-icon name="star" (click)="votar(2,post.key,post.keyUser)">
              <ion-input id="radio2" type="radio" name="estrellas" value="2"></ion-input>
            </ion-icon>
          </label>
          <label for="radio2" *ngIf="post.valoracion<2">
            <ion-icon name="star-outline" (click)="votar(2,post.key,post.keyUser)">
              <ion-input id="radio2" type="radio" name="estrellas" value="2"></ion-input>
            </ion-icon>
          </label>


          <label for="radio1" *ngIf="post.valoracion>=1">
            <ion-icon name="star" (click)="votar(1,post.key,post.keyUser)">
              <ion-input id="radio1" type="radio" name="estrellas" value="1"></ion-input>
            </ion-icon>
          </label>
          <label for="radio1" *ngIf="post.valoracion<1">
            <ion-icon name="star-outline" (click)="votar(1,post.key,post.keyUser)">
              <ion-input id="radio1" type="radio" name="estrellas" value="1"></ion-input>
            </ion-icon>
          </label>

        </p>

        <!-- Termina la valorazion-->

      </ion-col>




      <ion-col col-4 class="alinearMeGusta">
        <ion-note style="color:black;">
          {{post.fecha}}
        </ion-note>
      </ion-col>
    </ion-row>


  </ion-card>

  <ion-card *ngIf="post.tipo=='dieta'" style="background-color: #94E794">

    <ion-item style="background-color: #94E794">
      <ion-avatar item-start>
        <img src={{post.foto}}>
      </ion-avatar>
      <ion-textarea maxLength="500" value="{{post.titulo}}" autosize readonly></ion-textarea>
    </ion-item>

    <img padding imageViewer #myImage (click)="presentImage(myImage)" src="{{post.fotoPubli}}" />
    <ion-card-content>
      <p>{{post.descripcion}}</p>
    </ion-card-content>

    <ion-row>
      <ion-col col-2 (click)="meGusta(post.key,post.keyUser,post.likes)">
        <button ion-button icon-left clear small>
          <ion-icon name="thumbs-up"></ion-icon>
          <div>{{post.likes}}</div>
        </button>
      </ion-col>


      <ion-col col-6>
        <!-- Empieza la valorazion-->

        <p class="clasificacion">


          <label for="radio5" *ngIf="post.valoracion>=5">
            <ion-icon name="star" (click)="votar(5,post.key,post.keyUser)">
              <ion-input id="radio5" type="radio" name="estrellas" value="5"></ion-input>
            </ion-icon>
          </label>
          <label for="radio5" *ngIf="post.valoracion<5">
            <ion-icon name="star-outline" (click)="votar(5,post.key,post.keyUser)">
              <ion-input id="radio5" type="radio" name="estrellas" value="5"></ion-input>
            </ion-icon>
          </label>


          <label for="radio4" *ngIf="post.valoracion>=4">
            <ion-icon name="star" (click)="votar(4,post.key,post.keyUser)">
              <ion-input id="radio4" type="radio" name="estrellas" value="4"></ion-input>
            </ion-icon>
          </label>
          <label for="radio4" *ngIf="post.valoracion<4">
            <ion-icon name="star-outline" (click)="votar(4,post.key,post.keyUser)">
              <ion-input id="radio4" type="radio" name="estrellas" value="4"></ion-input>
            </ion-icon>
          </label>


          <label for="radio3" *ngIf="post.valoracion>=3">
            <ion-icon name="star" (click)="votar(3,post.key,post.keyUser)">
              <ion-input id="radio3" type="radio" name="estrellas" value="3"></ion-input>
            </ion-icon>
          </label>
          <label for="radio3" *ngIf="post.valoracion<3">
            <ion-icon name="star-outline" (click)="votar(3,post.key,post.keyUser)">
              <ion-input id="radio3" type="radio" name="estrellas" value="3"></ion-input>
            </ion-icon>
          </label>


          <label for="radio2" *ngIf="post.valoracion>=2">
            <ion-icon name="star" (click)="votar(2,post.key,post.keyUser)">
              <ion-input id="radio2" type="radio" name="estrellas" value="2"></ion-input>
            </ion-icon>
          </label>
          <label for="radio2" *ngIf="post.valoracion<2">
            <ion-icon name="star-outline" (click)="votar(2,post.key,post.keyUser)">
              <ion-input id="radio2" type="radio" name="estrellas" value="2"></ion-input>
            </ion-icon>
          </label>


          <label for="radio1" *ngIf="post.valoracion>=1">
            <ion-icon name="star" (click)="votar(1,post.key,post.keyUser)">
              <ion-input id="radio1" type="radio" name="estrellas" value="1"></ion-input>
            </ion-icon>
          </label>
          <label for="radio1" *ngIf="post.valoracion<1">
            <ion-icon name="star-outline" (click)="votar(1,post.key,post.keyUser)">
              <ion-input id="radio1" type="radio" name="estrellas" value="1"></ion-input>
            </ion-icon>
          </label>

        </p>

        <!-- Termina la valorazion-->

      </ion-col>




      <ion-col col-4 class="alinearMeGusta">
        <ion-note style="color:black;">
          {{post.fecha}}
        </ion-note>
      </ion-col>
    </ion-row>


  </ion-card>

  <ion-card *ngIf="post.tipo=='post'" style="background-color: #90AED7">

    <ion-item style="background-color: #90AED7">
      <ion-avatar item-start>
        <img src={{post.foto}}>
      </ion-avatar>
      <ion-textarea maxLength="500" value="{{post.titulo}}" autosize readonly></ion-textarea>
    </ion-item>

    <img padding imageViewer #myImage (click)="presentImage(myImage)" src="{{post.fotoPubli}}" />
    <ion-card-content>
      <p>{{post.descripcion}}</p>
    </ion-card-content>

    <ion-row>
      <ion-col col-2 (click)="meGusta(post.key,post.keyUser,post.likes)">
        <button ion-button icon-left clear small>
          <ion-icon name="thumbs-up"></ion-icon>
          <div>{{post.likes}}</div>
        </button>
      </ion-col>


      <ion-col col-6>
        <!-- Empieza la valorazion-->

        <p class="clasificacion">


          <label for="radio5" *ngIf="post.valoracion>=5">
            <ion-icon name="star" (click)="votar(5,post.key,post.keyUser)">
              <ion-input id="radio5" type="radio" name="estrellas" value="5"></ion-input>
            </ion-icon>
          </label>
          <label for="radio5" *ngIf="post.valoracion<5">
            <ion-icon name="star-outline" (click)="votar(5,post.key,post.keyUser)">
              <ion-input id="radio5" type="radio" name="estrellas" value="5"></ion-input>
            </ion-icon>
          </label>


          <label for="radio4" *ngIf="post.valoracion>=4">
            <ion-icon name="star" (click)="votar(4,post.key,post.keyUser)">
              <ion-input id="radio4" type="radio" name="estrellas" value="4"></ion-input>
            </ion-icon>
          </label>
          <label for="radio4" *ngIf="post.valoracion<4">
            <ion-icon name="star-outline" (click)="votar(4,post.key,post.keyUser)">
              <ion-input id="radio4" type="radio" name="estrellas" value="4"></ion-input>
            </ion-icon>
          </label>


          <label for="radio3" *ngIf="post.valoracion>=3">
            <ion-icon name="star" (click)="votar(3,post.key,post.keyUser)">
              <ion-input id="radio3" type="radio" name="estrellas" value="3"></ion-input>
            </ion-icon>
          </label>
          <label for="radio3" *ngIf="post.valoracion<3">
            <ion-icon name="star-outline" (click)="votar(3,post.key,post.keyUser)">
              <ion-input id="radio3" type="radio" name="estrellas" value="3"></ion-input>
            </ion-icon>
          </label>


          <label for="radio2" *ngIf="post.valoracion>=2">
            <ion-icon name="star" (click)="votar(2,post.key,post.keyUser)">
              <ion-input id="radio2" type="radio" name="estrellas" value="2"></ion-input>
            </ion-icon>
          </label>
          <label for="radio2" *ngIf="post.valoracion<2">
            <ion-icon name="star-outline" (click)="votar(2,post.key,post.keyUser)">
              <ion-input id="radio2" type="radio" name="estrellas" value="2"></ion-input>
            </ion-icon>
          </label>


          <label for="radio1" *ngIf="post.valoracion>=1">
            <ion-icon name="star" (click)="votar(1,post.key,post.keyUser)">
              <ion-input id="radio1" type="radio" name="estrellas" value="1"></ion-input>
            </ion-icon>
          </label>
          <label for="radio1" *ngIf="post.valoracion<1">
            <ion-icon name="star-outline" (click)="votar(1,post.key,post.keyUser)">
              <ion-input id="radio1" type="radio" name="estrellas" value="1"></ion-input>
            </ion-icon>
          </label>

        </p>

        <!-- Termina la valorazion-->

      </ion-col>




      <ion-col col-4 class="alinearMeGusta">
        <ion-note style="color:black;">
          {{post.fecha}}
        </ion-note>
      </ion-col>
    </ion-row>


  </ion-card>


  <ion-item>
    <ion-textarea id="textComen" [(ngModel)]="textoComentario" maxLength="500" placeholder="Escribe tu comentario" autosize></ion-textarea>
  </ion-item>

  <button ion-button full (click)="comentar()">Motívale</button>




  <ng-container *ngFor="let c of comentarios">
    <ion-card *ngIf="c.foto!=unknown" class="ion-card">

      <ion-item>
        <ion-icon name="trash" *ngIf="c.userId==uid" item-right (click)="borrarComentario(c.comenId)"></ion-icon>
        <ion-avatar item-start>
          <img src={{c.foto}}>
        </ion-avatar>
        <h2>{{c.nombre}} {{c.apellidos}}</h2>

      </ion-item>

      <ion-card-content>
        <p>{{c.comentario}}</p>
      </ion-card-content>

    </ion-card>
  </ng-container>


</ion-content>